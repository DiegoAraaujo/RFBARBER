<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RF BARBER - Agendamento</title>
    <link rel="shortcut icon" href="image/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="agendamento.css">
</head>
<body>
    <header>
        <nav>
            <div class="menu-hamburger" id="menu-btn">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
        </nav>
        <img src="../image/logorf.png" alt="" id="logorf">
    </header>
    <div id="opcoes-menu">
        <a href="../index.html">PAGINA PRINCIPAL</a>
        <a href="">MEU PERFIL</a>
        <a href="">GALERIA</a>
        <a href="">CONTATO</a>
        <a href="">CONFIGURA√á√ïES</a>
    </div>
    <main>
        <h3>Selecione um dia para agendar seu hor√°rio:</h3>
        <input type="date" id="data-agendamento" name="data-agendamento">

        <section id="marcar-hora">
            <!-- Segunda-feira -->
            <div class="dia" data-dia="1">
                <div class="hora">13:00</div>
                <div class="hora">14:00</div>
                <div class="hora">15:00</div>
                <div class="hora">16:00</div>
                <div class="hora">17:00</div>
            </div>
            
            <!-- Ter√ßa-feira -->
            <div class="dia" data-dia="2">
                <div class="hora">14:00</div>
                <div class="hora">15:00</div>
                <div class="hora">16:00</div>
                <div class="hora">17:00</div>
                <div class="hora">18:00</div>
            </div>

            <!-- Quarta-feira -->
            <div class="dia" data-dia="3">
                <div class="hora">13:00</div>
                <div class="hora">14:00</div>
                <div class="hora">15:00</div>
                <div class="hora">16:00</div>
            </div>

            <!-- Quinta-feira -->
            <div class="dia" data-dia="4">
                <div class="hora">15:00</div>
                <div class="hora">16:00</div>
                <div class="hora">17:00</div>
                <div class="hora">18:00</div>
            </div>

            <!-- Sexta-feira -->
            <div class="dia" data-dia="5">
                <div class="hora">13:00</div>
                <div class="hora">14:00</div>
                <div class="hora">15:00</div>
                <div class="hora">16:00</div>
            </div>
        </section>

        <button id="botao-agendar">Agendar</button>
    </main>
    <section id="regras">
        <div id="regra1">
            <div style="text-align: center;">üí°</div>
            Caso n√£o possa comparecer ao seu agendamento no dia e hor√°rio marcados, por favor, cancele-o antecipadamente.
        </div>
        <div id="regra2">
            <div style="text-align: center;">üí°</div>
            Caso n√£o haja hor√°rios dispon√≠veis, <a href="https://wa.me/5588996553613
            " target="_blank">entre em contato conosco</a> e faremos o poss√≠vel para encontrar uma solu√ß√£o para voc√™.
        </div>
        <div id="regra3">
            <div style="text-align: center;">üí°</div>
            Ap√≥s agendar seu hor√°rio, voc√™ poder√° acompanh√°-lo em seu perfil, al√©m de ter acesso ao hist√≥rico completo de seus agendamentos.
        </div>
    </section>
    <script src="../script.js"></script>
    <script>
    const inputData = document.getElementById('data-agendamento');
    const dias = document.querySelectorAll('.dia');
    const botaoAgendar = document.getElementById('botao-agendar');
    let horaSelecionada = null;

    // Fun√ß√£o para formatar a data como YYYY-MM-DD
    function formatDate(date) {
        return date.toISOString().split('T')[0];
    }

    // Obt√©m a data atual
    const hoje = new Date();

    // Define o primeiro dia do m√™s atual
    const primeiroDiaMes = new Date(hoje.getFullYear(), hoje.getMonth(), 1);

    // Define o √∫ltimo dia do m√™s atual
    const ultimoDiaMes = new Date(hoje.getFullYear(), hoje.getMonth() + 1, 0);

    // Define o valor m√≠nimo e m√°ximo do input de data
    inputData.min = formatDate(primeiroDiaMes);
    inputData.max = formatDate(ultimoDiaMes);

    inputData.addEventListener('change', function() {
        const dataSelecionada = new Date(this.value);
        const diaSemana = dataSelecionada.getDay(); // Retorna o dia da semana (0 = Domingo, 1 = Segunda...)

        // Esconde todas as divs de dias
        dias.forEach(dia => dia.style.display = 'none');

        // Exibe os hor√°rios do dia da semana selecionado
        const diaSelecionado = document.querySelector(`.dia[data-dia="${diaSemana}"]`);
        
        if (diaSelecionado) {
            diaSelecionado.style.display = 'flex';
        } else {
            alert('Desculpe, n√£o atendemos neste dia.');
        }
        
        // Limpa a sele√ß√£o de hor√°rio anterior
        horaSelecionada = null;
        botaoAgendar.style.display = 'none'; // Esconde o bot√£o ao mudar o dia
    });

    // Adiciona o evento de clique para cada hor√°rio
    document.querySelectorAll('.hora').forEach(hora => {
        hora.addEventListener('click', function() {
            // Remove a classe 'selecionada' de todos os hor√°rios
            document.querySelectorAll('.hora').forEach(h => h.classList.remove('selecionada'));

            // Adiciona a classe 'selecionada' ao hor√°rio clicado
            this.classList.add('selecionada');

            // Armazena o hor√°rio selecionado
            horaSelecionada = this.textContent;

            // Exibe o bot√£o "Agendar"
            botaoAgendar.style.display = 'block';
        });
    });

    // Fun√ß√£o para o clique no bot√£o "Agendar"
    botaoAgendar.addEventListener('click', function() {
        if (horaSelecionada) {
            alert(`Hor√°rio agendado para: ${horaSelecionada}`);
        }
    });
    </script>

</body>
</html>
